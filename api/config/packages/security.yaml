security:

    providers:
        in_memory: { memory: ~ }

    firewalls:
        restricted_area:
            anonymous:      ~
            pattern:        ^/
            methods:        [POST, PUT, DELETE, PATCH]
            json_login:
#            form_login_ldap:
#                service: Symfony\Component\Ldap\Ldap
#                dn_string: 'uid={username},ou=crew,dc=c-base,dc=org'
                check_path: /login
#                login_path: /login
                
                # field names for the username and password fields
#                username_parameter: _username
#                password_parameter: _password
                username_path: _username
                password_path: _password
                
                # by default, the login form *must* be a POST, not a GET
#                post_only:      true
                
            logout:
                path:   /logout
                target: /

    role_hierarchy:
        ROLE_USER:        ROLE_CREW
        ROLE_ADMIN:       ROLE_USER
        ROLE_SUPER_ADMIN: [ROLE_USER, ROLE_ADMIN, ROLE_ALLOWED_TO_SWITCH]
        
    

    access_control:
        - { path: ^/login,          roles: IS_AUTHENTICATED_ANONYMOUSLY }
        - { path: ^/,               roles: ROLE_USER }
